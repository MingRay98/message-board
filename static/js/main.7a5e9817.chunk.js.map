{"version":3,"sources":["Component/CommentInput.js","Component/CommentDisplay.js","App.js","Main.js","index.js"],"names":["CInput","props","handleSubmit","postData","name","state","content","imagePreviewUrl","addPost","handleImageChange","bind","openFileUpload","event","this","setState","URL","createObjectURL","target","files","document","getElementById","click","imageText","alt","src","type","maxLength","style","width","ref","input","cols","rows","id","accept","onChange","e","display","className","onClick","to","React","Component","CommentDisplay","align","comments","map","item","value","App","removePost","Main","post","push","pop","exact","path","render","ReactDOM"],"mappings":"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","file":"static/js/main.7a5e9817.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../index.css';\r\nimport './button.css'\r\nimport {\r\n  Link\r\n} from \"react-router-dom\";\r\n\r\nclass CInput extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.handleImageChange = this.handleImageChange.bind(this); //沒用箭頭函數要用bind綁定\r\n    this.openFileUpload = this.openFileUpload.bind(this); \r\n\r\n    this.state = {\r\n      name: '',\r\n      content: '',\r\n      imagePreviewUrl: ''\r\n    }\r\n\r\n  }\r\n\r\n  handleSubmit = () => { //用了就不用綁，先把所要傳的資料包成array再push上去\r\n    const postData = {name: this.state.name, content: this.state.content, imagePreviewUrl: this.state.imagePreviewUrl};\r\n    this.props.addPost(postData);\r\n  };\r\n\r\n  handleImageChange(event) { //創建預覽連結\r\n    this.setState({\r\n      imagePreviewUrl: URL.createObjectURL(event.target.files[0])\r\n    })\r\n  }\r\n\r\n  openFileUpload() { //打開上傳功能\r\n    document.getElementById(\"fileUpload\").click();\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let imageText = null;\r\n    let imagePreviewUrl = null;\r\n\r\n    if (this.state.imagePreviewUrl) {\r\n      imageText = <span >Image Preview:<br /></span>;\r\n      imagePreviewUrl = <img alt=\"\" src={this.state.imagePreviewUrl} />;\r\n    }\r\n\r\n    return (\r\n      <div >\r\n        <span >Title:<br /></span>\r\n        <input type=\"text\" name=\"title\" maxLength=\"10\" style={{ width: '20%' }} ref={(input) => { this.state.name = input; }}></input><br />\r\n        <span >Content:<br /></span>\r\n        <textarea cols=\"50\" rows=\"5\" name=\"content\" ref={(input) => { this.state.content = input; }}>Please input Content.</textarea> \r\n        <input type=\"file\" id='fileUpload' accept=\"image/*\" onChange={(e) => this.handleImageChange(e)} style={{ display: 'none' }}></input>\r\n\r\n        {imageText}\r\n        {imagePreviewUrl}<br /><br />\r\n\r\n        <button type=\"file\" className='uploadButton' onClick={this.openFileUpload}>upload</button>\r\n        <Link to='/message-board' >\r\n        <button type=\"button\" className=\"changeColorButton\" onClick={this.handleSubmit}>submit</button>\r\n        </Link>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CInput;\r\n","import '../index.css'\r\nimport React, { Component } from 'react';\r\n\r\nclass CommentDisplay extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {  };\r\n  }\r\n  render() {\r\n    return (\r\n      <div align=\"center\">\r\n        <br/>\r\n         {this.props.comments.map((item) =>\r\n          <div className='Comment'>\r\n            <div>\r\n              {item.name.value}\r\n            </div>\r\n            <div>\r\n              {item.content.value}\r\n            </div>\r\n            {item.imagePreviewUrl &&\r\n              <img src={item.imagePreviewUrl} alt={\"preview\"}  />}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CommentDisplay;","\nimport CDisplay from './Component/CommentDisplay'\nimport React from 'react';\nimport './index.css';\nimport './Component/button.css'\nimport {\n  Link\n} from 'react-router-dom';\n\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    return (\n      <div align=\"center\">\n        <Link to='/message-board/new-post'><button className=\"changeColorButton\" >Add Post</button></Link>\n        <button  onClick={this.props.removePost} className=\"changeColorButton\" >Remove Post</button>\n        <CDisplay comments={this.props.comments} />\n      </div>\n    )\n  }\n}\n\n\nexport default App;","import CInput from './Component/CommentInput';\r\nimport App from './App'\r\nimport React from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\n\r\nclass Main extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      comments: [] //留言陣列\r\n    };\r\n  }\r\n\r\n  addPost = (post) => { //增加留言\r\n    const comments = this.state.comments;\r\n    comments.push(post);\r\n    this.setState({ comments: comments });\r\n  };\r\n\r\n  removePost = () => { //移除留言\r\n    const comments = this.state.comments;\r\n    comments.pop();\r\n    this.setState({ comments: comments });\r\n  }\r\n\r\n  render() {\r\n      //Router包住 才能用裡面的功能 兩種不同 Route 渲染頁面及傳參數的方式\r\n    return (\r\n      <Router>\r\n        <Switch> \r\n          <Route exact path='/message-board'> <App comments={this.state.comments} removePost={this.removePost} /> </Route>\r\n          <Route path='/message-board/new-post' render={(props) => <CInput {...props} addPost={this.addPost} />} />\r\n        </Switch>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Main;","import React from 'react';\nimport Main from './Main';\nimport ReactDOM from 'react-dom';\n\n\nReactDOM.render(<Main />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}